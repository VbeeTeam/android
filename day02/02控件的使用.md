# 02控件的使用（新增模块）

本章介绍了App开发常见的几类简单控件的用法，主要包括：显示文字的文本视图、容纳视图的常用布局、响应点击的按钮控件、显示图片的图像视图等。

## **3.1**　**文本显示**

本节介绍了如何在文本视图TextView上显示规定的文本，包括：怎样在XML文件和Java代码中设置文本内容，尺寸的大小有哪些单位、又该怎样设置文本的大小，颜色的色值是如何表达的、又该怎样设置文本的颜色。

### **3.1.1**　**设置文本的内容**

```xml
1.<TextView 
          android:id="@+id/tv_hello" 
          android:layout_width="wrap_content" 
          android:layout_height="wrap_content" 
          android:text="你好，世界" />
2.// 获取名为tv_hello的文本视图 
TextView tv_hello = findViewById(R.id.tv_hello);
// 设置tv_hello的文字内容
tv_hello.setText("你好，世界"); 
```

strings.xml定义了一个名为“app_name”的字符串常量

```XML
<resources> 
    <string name="app_name">chapter03</string> 
    <string name="hello">你好，世界</string> 
</resources>
<TextView
          android:id="@+id/tv_hello" 
          android:layout_width="wrap_content" 
          android:layout_height="wrap_content" 
          android:text="@string/hello" />
// 获取名为tv_hello的文本视图 
TextView tv_hello = findViewById(R.id.tv_hello); 
tv_hello.setText(R.string.hello); // 设置tv_hello的文字内容
```

### **3.1.2**　**设置文本的大小**

TextView允许设置文本内容，也允许设置文本大小，在Java代码中调用setTextSize方法，即可指定文本大小

原来文本大小存在不同的字号单位，XML文件要求在字号数字后面写明单位类型，常见的字号单位主要

有px、dp、sp 3种，分别介绍如下。

**1****．****px**

px是手机屏幕的最小显示单位，它与设备的显示屏有关。一般来说，同样尺寸的屏幕（比如6英寸手

机），如果看起来越清晰，则表示像素密度越高，以px计量的分辨率也越大。

**2****．****dp**

dp有时也写作dip，指的是与设备无关的显示单位，它只与屏幕的尺寸有关。一般来说，同样尺寸的屏

幕以dp计量的分辨率是相同的，比如同样是6英寸手机，无论它由哪个厂家生产，其分辨率换算成dp单

位都是一个大小。

**3****．****sp**

sp的原理跟dp差不多，但它专门用来设置字体大小。手机在系统设置里可以调整字体的大小（小、标

准、大、超大）。设置普通字体时，同数值dp和sp的文字看起来一样大；如果设置为大字体，用dp设置

的文字没有变化，用sp设置的文字就变大了。

```XML
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <TextView
        android:id="@+id/tv_px"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello"
        android:textSize="30px"
        />
    <TextView
        android:id="@+id/tv_dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello"
        android:textSize="30dp"
        />
    <TextView
        android:id="@+id/tv_sp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello"
        android:textSize="30sp"
        />
</LinearLayout>
、、手机设置查看
```

```JAVA
public class TextSizeActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_text_size);
       /* TextView tv_hello = findViewById(R.id.tv_hello);
        tv_hello.setTextSize(30);*/ 默认sp
    }
}
```

### **3.1.3**　**设置文本的颜色**

除了设置文字大小，文字颜色也经常需要修改，毕竟Android默认的灰色文字不够醒目。在Java代码中调用setTextColor方法即可设置文本颜色，具体在Color类中定义了12种颜色

![image-20220901015455890](C:\Users\15596\AppData\Roaming\Typora\typora-user-images\image-20220901015455890.png)

```java
// 从布局文件中获取名为tv_code_system的文本视图 
TextView tv_code_system = findViewById(R.id.tv_code_system); 
// 将tv_code_system的文字颜色设置系统自带的绿色 
tv_code_system.setTextColor(Color.GREEN);
```

```xml
<TextView
          android:id="@+id/tv_xml" 
                    android:layout_width="wrap_content" 
                    android:layout_height="wrap_content" 
                    android:text="布局文件设置六位文字颜色" 
                    android:textColor="#00ff00" 
                    android:textSize="17sp" />
```

```xml
<resources> 
    <color name="colorPrimary">#008577</color> 
    <color name="colorPrimaryDark">#00574B</color> 
    <color name="colorAccent">#D81B60</color> 
    <color name="green">#00ff00</color> //绿色
</resources>
```

```xml
<TextView
          android:id="@+id/tv_values" 
          android:layout_width="wrap_content" 
          android:layout_height="wrap_content" 
          android:text="资源文件引用六位文字颜色" 
          android:textColor="@color/green" 
          android:textSize="17sp" />
```

### **3.1.3**　**设置背景颜色**

背景颜色也会用到上述的色值定义，在XML文件中通过属性android:background设置控件的背景颜色。Java代码则有两种方式设置背景颜色，倘若色值来源于Color类或十六进制数，则调

用setBackgroundColor方法设置背景；倘若色值来源于colors.xml中的颜色资源，则调用setBackgroundResource方法，以“R.color.颜色名称”的格式设置背景

```java
// 从布局文件中获取名叫tv_code_background的文本视图 
TextView tv_code_background = findViewById(R.id.tv_code_background); 
// 将tv_code_background的背景颜色设置为绿色 
tv_code_background.setBackgroundColor(Color.GREEN); // 在代码中定义的色值 tv_code_background.setBackgroundResource(R.color.green); // 颜色来源于资源文件
```

