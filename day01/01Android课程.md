# 《移动端Android课程简介》

## 常用移动端操作系统介绍

- Android（安卓）是现在最为普片的操作系统，在国内应该是人们用的最多的智能机操作系统。它是一种基于Linux开发的操作系统，主要使用于移动设备，如智能手机和平板电脑，由Google公司和开放手机联盟领导及开发。尚未有统一中文名称，中国大陆地区较多人使用安卓”，英语是机器人是意思。Android操作系统最初由AndyRubin开发，主要支持手机。Android逐渐扩展到平板电脑及其他领域上，如电视、数码相机、游戏机等。2014第一季度Android平台已占所有移动广告的大部分来源，首度超越iOS。但是薄利多销，始终营业额没有超过苹果。

- iOS（苹果）iOS是由苹果公司开发的移动操作系统。苹果公司最早于2007年1月9日的Macworld大会上公布这个系统，最初是设计给iPhone使用的，后来陆续套用到iPodtouch、iPad以及AppleTV等产品上。iOS与苹果的MacOSX操作系统一样，它也是以Darwin为基础的，因此同样属于类Unix的商业操作系统。原本这个系统名为iPhoneOS，因为iPad，iPhone，iPodtouch都使用iPhoneOS，所以2010WWDC大会上宣布改名为iOS。

- Symbian（塞班）前几年风靡中国的诺基亚手机的操作系统。诺基亚手机的确好用，但是现在已是穷途末路，无力回天了！Symbian系统是塞班公司为手机而设计的操作系统。2008年12月2日，塞班公司被诺基亚收购。2011年12月21日，诺基亚官方宣布放弃塞班（Symbian）品牌。由于缺乏新技术支持，塞班的市场份额日益萎缩。截止至2012年2月，塞班系统的全球市场占有量仅为3%。2012年5月27日，诺基亚彻底放弃开发塞班系统，但是服务将一直持续到2016年。2013年1月24日晚间，诺基亚宣布，今后将不再发布塞班系统的手机，意味着塞班这个智能手机操作系统，在长达14年的历史之后，终于迎来了谢幕。2014年1月1日，诺基亚正式停止了NokiaStore应用商店内对塞班应用的更新，也禁止开发人员发布新应用。

- WindowsPhone（WP）这个是相对来说较新一点的操作系统，WindowsPhone（简称：WP）是微软发布的一款手机操作系统，它将微软旗下的XboxLive游戏、XboxMusic音乐与独特的视频体验集成至手机中。2014年4月Build2014开发者大会发布WindowsPhone8.1。在2014年6月份，WindowsPhone8手机部分用户将能收到WindowsPhone8.1预览版更新。

- BlackBerry黑莓)BlackBerryOS是ResearchInMotion专用的操作系统。BlackBerryOS由ResearchInMotion为其智能手机产品BlackBerry开发的专用操作系统。这一操作系统具有多任务处理能力，并支持特定的输入装置，如滚轮、轨迹球、触摸板以及触摸屏等。

- 华为鸿蒙系统 （**HUAWEI Harmony OS**），是[华为](https://baike.baidu.com/item/华为/298705?fromModule=lemma_inlink)公司在2019年8月9日于[东莞](https://baike.baidu.com/item/东莞/495865?fromModule=lemma_inlink)举行华为开发者大会（HDC.2019）上正式发布的[操作系统](https://baike.baidu.com/item/操作系统/192?fromModule=lemma_inlink)。

  华为鸿蒙系统是一款全新的面向全场景的分布式操作系统，创造一个超级虚拟终端互联的世界，将人、设备、场景有机地联系在一起，将消费者在全场景生活中接触的多种[智能终端](https://baike.baidu.com/item/智能终端/10147151?fromModule=lemma_inlink)实现极速发现、极速连接、硬件互助、资源共享，用合适的设备提供场景体验。

## **Android** **操作系统简介**

### **目标**

系统简介

发展历程

发行版本

体系架构

系统结构

应用组件

平台优势

### **01.** **系统简介**

**1.1 Android** **名词**

Android 一词的本义指 **“机器人”**，同时也是**Google**于2007年11月5日宣布的基于Linux平台的开

源手机操作系统的名称，该平台由操作系统、中间件、用户界面和应用软件组成。

Android一词最早出现于法国作家利尔亚当（Auguste Villiers de l'Isle-Adam）在1886年发表的科

幻小说《未来夏娃》（

L'ève future）中。他将外表像人的机器起名为Android。

**1.2 Logo**

![image-20220831232323142](C:\Users\15596\AppData\Roaming\Typora\typora-user-images\image-20220831232323142.png)

Android 的 logo 是由**Ascender**公司设计的，诞生于2010年，其设计灵感源于男女厕所门上的图

形符号，于是布洛克绘制了一个简单的机器人，它的躯干就像锡罐的形状，头上还有两根天线，

Android小机器人便诞生了 

### **02.** **发展历程**

**2.1** **历程简介**

2003年10月，**Andy Rubin** 等人创建Android公司，并组建Android团队。

2005年8月17日，Google 低调**收购**了成立仅22个月的高科技企业Android及其团队。**安迪**

**鲁宾**成为Google公司工程部副总裁，继续负责Android项目。2008年，在**GoogleI/O**大会上，谷歌提出了AndroidHAL架构图，在同年8月18号，Android

获得了美国联邦通信委员会（FCC）的批准，在2008年9月，谷歌正式发布了**Android 1.0**系

统，这也是Android系统最早的版本。

2009年9月，谷歌发布**Android 1.6**的正式版，并且推出了搭载Android 1.6正式版的手机

**HTC Hero****（****G3****）**，凭借着出色的外观设计以及全新的Android 1.6操作系统，HTC

Hero（G3）成为当时全球最受欢迎的手机。Android 1.6也有一个有趣的甜品名称，它被称

为**Donut****（甜甜圈）**。

每年陆续更新版本.....................................

2019年，Android 10

### **03.** **发行版本**

**3.1** **版本简介**

**1.1**

2008年9月发布的Android第一版

**1.5**

**Cupcake****（纸杯蛋糕）**：2009年4月30日发布

**1.6**

**Donut****（甜甜圈）**：2009年9月15日发布

**2.0**

2009年10月26日发布。

**3.0**

**Honeycomb****（蜂巢）**：2011年2月2日发布。

**4.0**

**Ice Cream Sandwich****（冰激凌三明治）**：2011年10月19日在香港发布。

**5.0**

**Android 5.0Lollipop****（棒棒糖）**：美国太平洋时间2014年10月15日

**6.0**

**Android 6.0Marshmallow****（棉花糖）**：2015年9月30日

**7.0**

**Android 7.0Nougat****（牛轧糖）**：2016年8月22日

**8.0**

**Android 8.0Oreo****（奥利奥）**：2017 年 8 月 22 日

**9.0**

**Android 9.0Pie** **（派）**：2018 年 5月 9日

**10.0**

Android 10.0 2019年 , 今年的**Android Q**的正式名称是Android 10

**11**

Android 11在2020年9月份放出（开发版），谷歌I/O大会上正式发布。

##### 12

Android 12在2021年10月份发布。

##### 13

Android 13在2022年2月份发布。

### **04.** **体系架构**

**采用了分层的架构**

![image-20220831232400914](C:\Users\15596\AppData\Roaming\Typora\typora-user-images\image-20220831232400914.png)

Android系统架构图，如下（从下往上看）

**（1）Linux** **内核**

Android 平台的基础是 Linux 内核。例如，Android Runtime (ART) 依靠 Linux 内核来执行底层功

能，例如线程和低层内存管理。使用 Linux 内核可让 Android 利用主要安全功能，并且允许设备

制造商为著名的内核开发硬件驱动程序**硬件抽象层（**HAL）

**（2）Android 的 HAL**（硬件抽像层）**是能以封闭源码形式提供硬件驱动模块。的目的是为了把

**Android framework** **与** **Linux kernel** **隔开**，让 Android 不至过度依赖 Linux kernel，以达成

Kernel independent 的概念，也让 Android framework 的开发能在不考量驱动程序实现的前提

下进行发展

**（3）Android Runtime**

对于运行 Android 5.0（API 级别 21）或更高版本的设备，每个应用都在其**自己的进程中运行**，并

且有其自己的 Android Runtime (ART) 实例。ART 编写为通过执行 **DEX** **文件**在低内存设备上运行

多个**虚拟机**，DEX 文件是一种专为 Android 设计的字节码格式，经过优化，使用的内存很少。编

译工具链（例如 Jack）**将** **Java** **源代码编译为** **DEX** **字节码**，使其可在 Android 平台上运行

**（4）原生C/C++库**

许多核心 Android 系统组件和服务（例如 ART 和 HAL）构建自原生代码，需要以 C 和 C++ 编写

的原生库。Android 平台提供 Java 框架 API 以向应用显示其中部分原生库的功能。例如，您可以

通过 Android 框架的 Java OpenGL API 访问 OpenGL ES，以支持在应用中**绘制和操作** **2D** **和** **3D**

**图形**。如果开发的是需要 C 或 C++ 代码的应用，可以使用 **Android NDK** 直接从原生代码访问某

些原生平台库

**（5）Java API框架**

您可通过以 Java 语言编写的 API 使用 Android OS 的整个功能集。这些 API 形成创建 Android 应

用所需的构建块，它们可简化核心模块化系统组件和服务的重复使用包括以下**组件和服务**： 

1. 丰富、可扩展的视图系统，可用以构建应用的 UI，包括列表、网格、文本框、按钮甚

至可嵌入的网络浏览器

2. 资源管理器，用于访问非代码资源，例如本地化的字符串、图形和布局文件

3. 通知管理器，可让所有应用在状态栏中显示自定义提醒

4. Activity 管理器，用于管理应用的生命周期，提供常见的导航返回栈

5. 内容提供程序，可让应用访问其他应用（例如“联系人”应用）中的数据或者共享其自己

的数据

开发者可以完全访问 Android 系统应用使用的框架 API

**（6）系统应用**

Android 随附一套用于电子邮件、短信、日历、互联网浏览和联系人等的**核心应用**。平台随附的应

用与用户可以选择安装的应用一样，没有特殊状态。因此第三方应用可成为用户的默认网络浏览

器、短信 Messenger 甚至默认键盘（有一些例外，例如系统的“设置”应用）。**系统应用可用作用**

**户的应用**，以及提供开发者可从其自己的应用访问的主要功能。例如，如果您的应用要发短信，您

无需自己构建该功能，可以改为调用已安装的短信应用向您指定的接收者发送消息。

### **05** **应用组件**

**Android开发四大组件**

###### （1）活动 （Activity)

Android 中，Activity是所有程序的根本，所有程序的流程都运行在Activity 之中，Activity可

以算是开发者遇到的**最频繁**，也是Android 当中最基本的模块之一。

一般一个Android 应用是由多个Activity 组成的。这多个Activity 之间Android的应用 可以进

行相互跳转。

###### （2）服务 （Service ）

Service 是android 系统中的一种组件，它跟Activity 的级别差不多，但是他不能自己运行，

只能**后台运行**，并且可以和其他组件进行交互。Service 是**没有界面**的长生命周期的代码。

举个例子，打开一个音乐播放器的程序，这个时候若想上网了，那么，打开Android浏览

器，这个时候虽然已经进入了浏览器这个程序，但是，歌曲播放并没有停止，而是在后台继

续一首接着一首的播放。其实这个播放就是由播放音乐的Service进行控制。

###### （3）广播接收器 （BroadcastReceiver ） 

在Android 中，Broadcast是一种广泛运用的在**应用程序之间传输信息的机制**。

###### （4）内容提供者 （Content Provider ）

Content Provider 是Android提供的**第三方应用数据的访问方案**

在Android中，对数据的保护是很严密的，除了放在SD卡中的数据，一个应用所持有的数据

库、文件等内容，都是**不允许其他直接访问**的。Android当然不会真的把每个应用都做成一

座孤岛，它为所有应用都准备了一扇窗，这就是Content Provider。

### **06** **平台优势**

**开发性**

在优势方面，Android平台首先就是其开放性，开发的平台允许任何移动终端厂商加入到Android

联盟中来。显著的开放性可以使其拥有更多的开发者，随着用户和应用的日益丰富，一个崭新的平

台也将很快走向成熟。

开放性对于Android的发展而言，有利于积累人气，这里的人气包括消费者和厂商，而对于消费者

来讲，最大的受益正是**丰富的软件资源**。开放的平台也会带来更大竞争，如此一来，消费者将可以

用**更低的价位**购得心仪的手机

**丰富的硬件**

这一点还是与Android平台的开放性相关，由于Android的开放性，众多的厂商会推出千奇百怪，

功能特色各具的多种产品。功能上的差异和特色，却不会影响到数据同步、甚至软件的兼容，如同

从诺基亚Symbian风格手机一下改用苹果iPhone，同时还可将Symbian中优秀的软件带到iPhone

上使用、联系人等资料更是可以方便地转移。

**方便开发**

Android平台提供给第三方开发商一个十分宽泛、自由的环境，不会受到各种条条框框的阻扰，可

想而知，会有多少新颖别致的软件会诞生。但也有其两面性，血腥、暴力、情色方面的程序和游戏

如何控制正是留给Android难题之一。

**Google应用**

在互联网的Google已经走过10年度历史，从搜索巨人到全面的互联网渗透，Google服务如地图、

邮件、搜索等已经成为连接用户和互联网的重要纽带，而Android平台手机将无缝结合这些优秀的

Google服务。

## 安卓JDK

## 安装AndroidStudio安卓开发工具

**Android Studio** **发展历程** 

Android Studio 是 Android 应用的开发工具，由谷歌公司在 2013 年 5 月推出，Android Studio 基于 IntelliJ IDEA 演变而来，比 Eclipse 更加方便易用，运行速度也较快。

![image-20220831234747391](C:\Users\15596\AppData\Roaming\Typora\typora-user-images\image-20220831234747391.png)

##### **ANDROID课程**开发机配置要求

#####  对硬件的要求： 

- l 内存要求至少8GB，越大越好。 

- l CPU要求1.5GHz以上，越快越好。 

- l 硬盘要求系统盘剩余空间10GB以上，越大越好。 

- l 要求带无线网卡与USB插槽。 

##### 对操作系统的要求（以Windows为例）。 

- l 必须是64位系统，不能是32位系统。 

- l 至少为Windows 7，不支持Windows XP。 

- **|** ANDROID课程**安装** **Android Studio** 

##### 谷歌开发者的中文网站可直接下载Android Studio，详细的下载页面是 https://developer.android.google.cn/studio/index.html。 

**安装过程**

Android Studio安装完成 

Android Studio启动向导**下载** **SDK** 

###### SDK 全称为 Software Development Kit，意即软件开发工具包，它可将 App 源码编译 为可执行的 App 应用。 

##### **ANDROID课程**创建新项目

工程创建完毕后，Android Studio 自动打开 activity_main.xml 与 MainActivity.java， 

并默认展示 MainActivity.java 的源码。 

**|** ANDROID课程**|** ANDROID课程 

**创建内置模拟器** （BIOS 开启VT虚拟设备https://www.xitongzhijia.net/xtjc/20220822/248293.html）

（查看任务管理器-性能-虚拟化：开启）

TV：电视

Phone：手机

WearOs: 智能手表

Tablet:平板电脑

Automotive:汽车终端

所谓模拟器，是指在电脑上构造一个演示窗口，模拟手机屏幕上的App运行效果。 

模拟器启动完成 

HelloWorld的启动界面 

##### 使用真实手机测试App，

该办法在实际开发中更为常见。由于模拟器本身跑在电脑上面，占用电脑的CPU和内存，会拖累电脑的运行速度；况且模拟器仅仅是模拟而已，无法完全验证App的所

有功能，因此最终都得通过真机测试才行。

利用真机调试要求具备以下5个条件：

**1****．使用数据线把手机连到电脑上**

手机的电源线拔掉插头就是数据线。数据线长方形的一端接到电脑的USB接口，即可完成手机与电脑的

连接。

**2****．在电脑上安装手机的驱动程序**

一般电脑会把手机当作USB存储设备一样安装驱动，大多数情况会自动安装成功。如果遇到少数情况安

装失败，需要先安装手机助手，由助手软件下载并安装对应的手机驱动。

**3****．打开手机的开发者选项并启用****USB****调试**

手机出厂后默认关闭开发者选项，需要开启开发者选项才能调试App。打开手机的设置菜单，进入“系统” 

→“关于手机”→“版本信息”页面，这里有好几个版本项，每个版本项都使劲点击七、八下，总会有某个版

本点击后出现“你将开启开发者模式”的提示。继续点击该版本开启开发者模式，然后退出并重新进入设

置页面，此时就能在“系统”菜单下找到“开发者选项”或“开发人员选项”了。进入“开发者选项”页面，启用

“开发者选项”和“USB调试”两处开关，允许手机通过USB接口安装调试应用。

**4****．将连接的手机设为文件传输模式，并允许计算机进行****USB****调试**

手机通过USB数据线连接电脑后，屏幕弹出如图2-1所示的选择列表，请求选择某种USB连接方式。这里

记得选中“传输文件”，因为充电模式不支持调试App。

选完之后手机桌面弹出如图2-2所示的确认窗口，提示开发者是否允许当前计算机进行USB调试。这里勾

选“始终允许使用这台计算机进行调试”选项，再点击右下角的确定按钮，允许计算机在手机上调试App。

##### 5.选择真机启动测试

## App的工程结构

本节介绍App工程的基本结构及其常用配置，首先描述项目和模块的区别，以及工程内部各目录与配置

文件的用途说明；其次阐述两种级别的编译配置文件build.gradle，以及它们内部的配置信息说明；再次

讲述运行配置文件AndroidManifest.xml的节点信息及其属性说明。

###  App工程目录结构

App工程分为两个层次，第一个层次是项目，依次选择菜单File→New→New Project即可创建新项目。

另一个层次是模块，模块依附于项目，每个项目至少有一个模块，也能拥有多个模块，依次选择菜单

File→New→New Module即可在当前项目创建新模块。一般所言的“编译运行App”，指的是运行某个模

块，而非运行某个项目，因为模块才对应实际的App。单击Android Studio左上角竖排的Project标签，

（1）manifests子目录，下面只有一个XML文件，即AndroidManifest.xml，它是App的运行配置文

件。

（2）java子目录，下面有3个com.example.myapp包，其中第一个包存放当前模块的Java源代码，后

面两个包存放测试用的Java代码。

（3）res子目录，存放当前模块的资源文件。res下面又有4个子目录：

- drawable目录存放图形描述文件与图片文件。

- layout目录存放App页面的布局文件。

- mipmap目录存放App的启动图标。

- values目录存放一些常量定义文件，例如字符串常量strings.xml、像素常量dimens.xml、颜色常量colors.xml、样式风格定义styles.xml等。

Gradle Scripts下面主要是工程的编译配置文件，Gradle 是一个项目自动化构建工具，帮我们做了依赖、打包、部署、发布、各种渠道的 

差异管理等工作

主要有：

（1）build.gradle，该文件分为项目级与模块级两种，用于描述App工程的编译规则。

（2）proguard-rules.pro，该文件用于描述Java代码的混淆规则。

（3）gradle.properties，该文件用于配置编译工程的命令行参数，一般无须改动。

（4）settings.gradle，该文件配置了需要编译哪些模块。初始内容为include ':app'，表示只编译app模

块。

（5）local.properties，项目的本地配置文件，它在工程编译时自动生成，用于描述开发者电脑的环境

配置，包括SDK的本地路径、NDK的本地路径等。

#### 配置文件build.gradle

```xml
android { 
// 指定编译用的SDK版本号。比如30表示使用Android 11.0编译
compileSdkVersion 30 
// 指定编译工具的版本号。这里的头两位数字必须与compileSdkVersion保持一致，具体的版本号可 在sdk安装目录的“sdk\build-tools”下找到 
buildToolsVersion "30.0.3"
defaultConfig { 
// 指定该模块的应用编号，也就是App的包名 
applicationId "com.example.chapter02" 
// 指定App适合运行的最小SDK版本号。比如19表示至少要在Android 4.4上运行 
minSdkVersion 19 
// 指定目标设备的SDK版本号。表示App最希望在哪个版本的Android上运行 
targetSdkVersion 30 
// 指定App的应用版本号 
versionCode 1 
// 指定App的应用版本名称 
versionName "1.0" 
//单元测试
testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner" 
}
// 指定App编译的依赖信息 ，配置插件版本仓库
dependencies { 
// 指定引用jar包的路径 
implementation fileTree(dir: 'libs', include: ['*.jar']) 
// 指定编译Android的高版本支持库。如AppCompatActivity必须指定编译appcompat库 
//appcompat库各版本见 https://mvnrepository.com/artifact/androidx.appcompat/appcompat 
implementation 'androidx.appcompat:appcompat:1.2.0' 
// 指定单元测试编译用的junit版本号 testImplementation 'junit:junit:4.13' 
androidTestImplementation 'androidx.test.ext:junit:1.1.2' 
androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0' 
}
```

### 配置文件AndroidManifest.xml

```xml
<!-- activity节点指定了该App拥有的活动页面信息，其中拥有 android.intent.action.MAIN的activity说明它是入口页面 -->
```

可见AndroidManifest.xml的根节点为manifest，它的package属性指定了该App的包名。manifest下面有个application节点，它的各属性说明如下：

- android:allowBackup，是否允许应用备份。允许用户备份系统应用和第三方应用的apk安装包和应用数据，以便在刷机或者数据丢失后恢复应用，用户即可通过adb backup和adb restore来进行对应用数据的备份和恢复。为true表示允许，为false则表示不允许。

- android:icon，指定App在手机屏幕上显示的图标。

- android:label，指定App在手机屏幕上显示的名称。

- android:roundIcon，指定App的圆角图标。

- android:supportsRtl，是否支持阿拉伯语／波斯语这种从右往左的文字排列顺序。为true表示支持，为false则表示不支持。

- android:theme，指定App的显示风格。

- android.intent.action.MAIN表示该页面是App的入口页面，启动App时会最先打开该页面。

- android.intent.category节点设置的android.intent.category.LAUNCHER决定了是否在手机屏幕上显示App图标，如果同时有两个activity节点内部都设置了android.intent.category.LAUNCHER，那么桌面就会显示两个App图标。

  


## App的设计规范

App将看得见的界面设计与看不见的代码逻辑区分开，然后利用XML标记描绘应用界面，同时使用Java代码书写程序逻辑，从而形成App前后端分离的设计规约，有利于提高App集成的灵活性。

### 界面设计与代码逻辑

手机的功能越来越强大，某种意义上相当于微型电脑，比如打开一个电商App，仿佛是在电脑上浏览网站。网站分为用户看得到的网页，以及用户看不到的Web后台；App也分为用户看得到的界面，以及用户看不到的App后台。虽然Android允许使用Java代码描绘界面，但不提倡这么做，推荐的做法是将界面设计从Java代码剥离出来，通过单独的XML文件定义界面布局，就像网站使用HTML文件定义网页那样。

![image-20220901005729471](C:\Users\15596\AppData\Roaming\Typora\typora-user-images\image-20220901005729471.png)

![image-20220901005745043](C:\Users\15596\AppData\Roaming\Typora\typora-user-images\image-20220901005745043.png)

把界面设计与代码逻辑分开，不仅参考了网站的Web前后端分离，还有下列几点好处。

（1）使用XML文件描述App界面，可以很方便地在Android Studio上预览界面效果。比如新创建的App

项目，默认首页布局为activity_main.xml，单击界面右上角的Design按钮，即可看到如图2-15所示的预

览界面。

如果XML文件修改了Hello World的文字内容，立刻就能在预览区域观看最新界面。倘若使用Java代码描

绘界面，那么必须运行App才能看到App界面，无疑费时许多。

（2）一个界面布局可以被多处代码复用，比如商城购物代码浏览商品图片，也能通过商品评价代码浏览商品图片。

（3）一段Java代码也可能适配多个界面布局，比如手机有竖屏与横屏两种模式，默认情况App采用同一套布局

### **利用****XML****标记描绘应用界面**

```xml
<TextView 
          android:id="@+id/tv_hello" 
          android:layout_width="wrap_content" 
          android:layout_height="wrap_content" 
          android:text="Hello World!" />
```

注意到TextView标签以“<”开头，以“/>”结尾，为何尾巴多了个斜杆呢？要是没有斜杆，以左右尖括号包

裹标签名称，岂不更好？其实这是XML的标记规范，凡是XML标签都由标签头与标签尾组成，标签头以

左右尖括号包裹标签名称，形如“”；标签尾在左尖括号后面插入斜杆，以此同标签头区分开，形如“”。标

签头允许在标签名称后面添加各种属性取值，而标签尾不允许添加任何属性，因此上述TextView标签的

完整XML定义是下面这样的：

```xml
<TextView 
          android:id="@+id/tv_hello" 
          android:layout_width="wrap_content" 
          android:layout_height="wrap_content" 
          android:text="Hello World!"></TextView>
```

考虑到TextView仅仅是个文本视图，其标签头和标签尾之间不会插入其他标记，所以合并它的标签头和标签尾，也就是让TextView标签以“/>”结尾，表示该标签到此为止。

譬如下面是个XML文件的布局内容，里面包含了根节点、布局节点，以及控件节点：
（chapter02\src\main\res\layout\activity_main.xml）

```xml
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
               android:layout_width="match_parent" 
               android:layout_height="match_parent"> 
     <!-- 这是个线性布局， match_parent意思是与上级视图保持一致--> 
     <LinearLayout                                      
                   android:layout_width="match_parent" 
                   android:layout_height="match_parent"> 
         <!-- 这是个文本视图，名字叫做tv_hello，显示的文字内容为“Hello World!” --> 
         <TextView android:id="@+id/tv_hello" 
                   android:layout_width="wrap_content" 
                   android:layout_height="wrap_content" 
                   android:text="Hello World!" /> 
     </LinearLayout> 
</LinearLayout>
```

（1）每个界面只有一个根节点，却可能有多个布局节点，也可能没有中间的布局节点，此时所有控件节

点都挂在根节点下面。

（2）根节点必须配备“xmlns:android="http://schemas.android.com/apk/res/android"”，表示指定

XML内部的命名空间，有了这个命名空间，Android Studio会自动检查各节点的属性名称是否合法，如

果不合法就提示报错。至于布局节点就不能再指定命名空间了。

### **使用****Java****代码书写程序逻辑**

在XML文件中定义界面布局，已经明确是可行的了，然而这只是静态界面，倘若要求在App运行时修改

文字内容，该当如何是好？倘若是动态变更网页内容，还能在HTML文件中嵌入JavaScript代码，由js片

段操作Web控件。但Android的XML文件仅仅是布局标记，不能再嵌入其他语言的代码了，也就是说，

只靠XML文件自身无法动态刷新某个控件。

XML固然表达不了复杂的业务逻辑，这副重担就得交给App后台的Java代码了。Android Studio每次创

建新项目，除了生成默认的首页布局activity_main.xml之外，还会生成与其对应的代码文件

MainActivity.java。赶紧打开MainActivity.java，看看里面有什么内容，该Java文件中MainActivity类的

```java
public class MainActivity extends AppCompatActivity { 
	@Override protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
    } 
}
//把文字内容改成中文
public class MainActivity extends AppCompatActivity { 
    @Override protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        // 当前的页面布局采用的是res/layout/activity_main.xml 
        setContentView(R.layout.activity_main); 
        // 获取名叫tv_hello的TextView控件，注意添加导包语句import android.widget.TextView; 
        TextView tv_hello = findViewById(R.id.tv_hello); 
        // 设置TextView控件的文字内容 
        tv_hello.setText("你好，世界"); 
    } 
}
```

### **App****的新建页面**

#### 1.**创建****XML****文件**

在Android Studio左上方找到项目结构图，右击res目录下面的layout，在右键菜单中依次选择New→XML→Layout XML File->activity_main2

#### 2.**创建****Java****代码**

在Android Studio左上方找到项目结构图右击java目录下面的包名com.zrgj.app-择New→Java Class->Main2Active

```java
public class Main2Activity extends AppCompatActivity { 
    @Override protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); setContentView(R.layout.activity_main2); 
    } 
}
```

#### 3.**页面配置**

```xml
<activity android:name=".Main2Activity"></activity>
```

### **快速生成页面源码**

上一小节经过创建XML文件、创建Java代码、注册页面配置3个步骤，就算创建好了一个新页面，没想到

区区一个页面也这么费事，怎样才能提高开发效率呢？其实Android Studio早已集成了快速创建页面的

功能，只要一个对话框就能完成所有操作。

###### 右键菜单中依次选择New→Activity→Empty Activity->Main3Activity

### **跳到另一个页面**

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center">
    <TextView
        android:id="@+id/tv"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Hello MyApp!"
        />

    <Button
        android:id="@+id/button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="跳转Activity2"/>
</LinearLayout>
```

```java
public class MainActivity extends AppCompatActivity {

    @Override
//    onCreate:生命周期
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
//        设置布局视图
        setContentView(R.layout.activity_main);
//        查找视图控件id
        TextView tv = findViewById(R.id.tv);
        tv.setText("您好！世界");

        Button button = findViewById(R.id.button);
        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent intent = new Intent();
                intent.setClass(MainActivity.this, MainActive2.class);
                startActivity(intent);
            }
        });
    }
}
```

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center">
    <TextView
        android:id="@+id/tv"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Hello ActivityMain2!"
        />
</LinearLayout>
```

```java
public class MainActivity2 extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main2);
    }
}
```

## **动手练习**

请上机实验修改App工程的XML文件和Java代码，并使用真机调试App，主要步骤说明如下：

（1）创建一个新的App项目。

（2）修改项目级别的build.gradle，添加阿里云的仓库地址。

（3）创建一个名为Main2Activity的新页面（含XML文件与Java代码）。

（4）在该页面的XML文件中添加一个TextView标签，文本内容为“你好，世界！”。 

（5）在MainActivity的Java代码中添加页面跳转代码，从当前页跳到Main2Activity。 

（6）把App安装到手机上并运行，观察能否看到“你好，世界！”字样

